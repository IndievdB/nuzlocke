* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: #1a1a2e;
    color: #eee;
    min-height: 100vh;
    padding: 1rem;
}

header {
    text-align: center;
    margin-bottom: 1.5rem;
}

header h1 {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
}

.generation-toggle {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 0.75rem;
}

.generation-toggle label {
    cursor: pointer;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    background: #2a2a4e;
}

.generation-toggle input:checked + span,
.generation-toggle label:has(input:checked) {
    background: #4a4a8e;
}

.calculator-layout {
    display: grid;
    grid-template-columns: 1fr 1fr 1fr;
    gap: 1rem;
    max-width: 1200px;
    margin: 0 auto;
}

@media (max-width: 900px) {
    .calculator-layout {
        grid-template-columns: 1fr;
    }
}

.pokemon-panel, .move-panel, .results-panel {
    background: #16213e;
    border-radius: 8px;
    padding: 1rem;
}

.pokemon-panel h2, .move-panel h2, .move-panel h3, .results-panel h2 {
    font-size: 1rem;
    margin-bottom: 0.75rem;
    color: #a0a0ff;
    border-bottom: 1px solid #2a2a4e;
    padding-bottom: 0.5rem;
}

.move-panel h3 {
    margin-top: 1rem;
}

.search-container {
    position: relative;
    margin-bottom: 0.75rem;
}

.search-container input {
    width: 100%;
    padding: 0.5rem;
    border: 1px solid #3a3a6e;
    border-radius: 4px;
    background: #1a1a2e;
    color: #fff;
}

.search-results {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: #2a2a4e;
    border: 1px solid #3a3a6e;
    border-radius: 4px;
    max-height: 200px;
    overflow-y: auto;
    z-index: 100;
    list-style: none;
}

.search-results li {
    padding: 0.5rem;
    cursor: pointer;
}

.search-results li:hover {
    background: #4a4a8e;
}

.form-row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem;
}

.form-row label {
    min-width: 60px;
    font-size: 0.85rem;
}

.form-row input[type="number"],
.form-row input[type="text"],
.form-row select {
    flex: 1;
    padding: 0.35rem;
    border: 1px solid #3a3a6e;
    border-radius: 4px;
    background: #1a1a2e;
    color: #fff;
}

.form-row input[type="number"] {
    width: 60px;
}

.stat-group {
    margin: 0.75rem 0;
    padding: 0.5rem;
    background: #1a1a2e;
    border-radius: 4px;
}

.stat-group h4 {
    font-size: 0.8rem;
    margin-bottom: 0.5rem;
    color: #888;
}

.stat-row {
    display: flex;
    gap: 0.25rem;
    align-items: center;
    margin-bottom: 0.25rem;
}

.stat-row label {
    font-size: 0.75rem;
    min-width: 30px;
}

.stat-row input {
    width: 50px;
    padding: 0.25rem;
    border: 1px solid #3a3a6e;
    border-radius: 4px;
    background: #2a2a4e;
    color: #fff;
    text-align: center;
}

.checkbox-group {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin: 0.5rem 0;
}

.checkbox-group label {
    font-size: 0.85rem;
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.crit-chance {
    color: #888;
    font-size: 0.8rem;
}

.calculate-btn {
    width: 100%;
    padding: 0.75rem;
    margin-top: 1rem;
    border: none;
    border-radius: 4px;
    background: #4a90d9;
    color: #fff;
    font-size: 1rem;
    font-weight: bold;
    cursor: pointer;
    transition: background 0.2s;
}

.calculate-btn:hover:not(:disabled) {
    background: #6ab0f9;
}

.calculate-btn:disabled {
    background: #333;
    cursor: not-allowed;
}

/* Speed Comparison Panel */
.speed-panel {
    grid-column: 1 / -1;
    background: #16213e;
    border-radius: 8px;
    padding: 1rem;
    margin-top: 1rem;
}

.speed-panel h3 {
    font-size: 1rem;
    margin-bottom: 0.75rem;
    color: #a0a0ff;
    border-bottom: 1px solid #2a2a4e;
    padding-bottom: 0.5rem;
    text-align: center;
}

.speed-comparison {
    display: flex;
    justify-content: space-between;
    align-items: center;
    gap: 1rem;
}

.speed-pokemon {
    flex: 1;
    text-align: center;
    padding: 0.75rem;
    background: #1a1a2e;
    border-radius: 8px;
    border: 2px solid transparent;
    transition: border-color 0.2s;
}

.speed-pokemon.speed-winner {
    border-color: #27ae60;
    background: #1a2e1a;
}

.speed-label {
    display: block;
    font-size: 0.75rem;
    color: #888;
    margin-bottom: 0.25rem;
}

.speed-value {
    display: block;
    font-size: 1.5rem;
    font-weight: bold;
    color: #fff;
}

.speed-pokemon-name {
    display: block;
    font-size: 0.85rem;
    color: #a0a0ff;
    margin-top: 0.25rem;
}

.speed-vs {
    text-align: center;
    padding: 0 1rem;
}

.speed-result {
    display: block;
    font-size: 0.9rem;
    font-weight: bold;
    color: #f39c12;
}

.quick-claw-note {
    display: block;
    font-size: 0.75rem;
    color: #888;
    margin-top: 0.5rem;
}

/* Boost Presets */
.boost-presets {
    display: flex;
    gap: 0.25rem;
    margin-top: 0.5rem;
    flex-wrap: wrap;
}

.boost-btn {
    padding: 0.2rem 0.4rem;
    font-size: 0.7rem;
    background: #2a2a4e;
    border: 1px solid #3a3a6e;
    color: #ccc;
    border-radius: 3px;
    cursor: pointer;
}

.boost-btn:hover {
    background: #3a3a5e;
}

.boost-btn.active {
    background: #4a4a8e;
    border-color: #6a6aae;
}

.results-panel {
    grid-column: 1 / -1;
    margin-top: 1rem;
}

.result-content {
    padding: 0.5rem;
}

.damage-description {
    font-size: 0.9rem;
    line-height: 1.4;
    margin-bottom: 0.75rem;
}

.damage-bar-container {
    background: #2a2a4e;
    border-radius: 4px;
    height: 24px;
    overflow: hidden;
    margin-bottom: 0.5rem;
    display: flex;
}

.damage-bar {
    height: 100%;
    transition: width 0.3s ease;
}

.damage-bar-min {
    background: #27ae60;
}

.damage-bar-range {
    background: #f39c12;
}

/* Damage Range Display */
.damage-range {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.damage-range .damage-bar-container {
    flex: 1;
    margin-bottom: 0;
}

.damage-min, .damage-max {
    font-size: 0.8rem;
    color: #aaa;
    white-space: nowrap;
}

.damage-min {
    color: #27ae60;
}

.damage-max {
    color: #e74c3c;
}

/* Unknown toggle and hint */
.unknown-toggle {
    font-size: 0.75rem;
    font-weight: normal;
    color: #888;
    margin-left: 0.5rem;
}

.unknown-toggle input {
    margin-right: 0.25rem;
}

.iv-buttons {
    margin-left: 0.5rem;
}

.iv-btn {
    padding: 0.1rem 0.4rem;
    font-size: 0.7rem;
    background: #2a2a4e;
    border: 1px solid #444;
    color: #aaa;
    border-radius: 3px;
    cursor: pointer;
    margin-right: 0.25rem;
}

.iv-btn:hover {
    background: #3a3a5e;
    color: #fff;
}

/* Item preset buttons */
.item-presets {
    display: flex;
    flex-wrap: wrap;
    gap: 0.25rem;
    margin-top: 0.25rem;
    margin-bottom: 0.5rem;
}

.item-btn {
    padding: 0.2rem 0.4rem;
    font-size: 0.7rem;
    background: #2a2a4e;
    border: 1px solid #444;
    color: #888;
    border-radius: 3px;
    cursor: pointer;
}

.item-btn:hover {
    background: #3a3a5e;
    color: #fff;
}

.item-btn.active {
    background: #4a4a6e;
    border-color: #6a6a8e;
    color: #fff;
}

/* Nature preset buttons */
.nature-presets {
    display: flex;
    flex-wrap: wrap;
    gap: 0.25rem;
    margin-top: 0.25rem;
    margin-bottom: 0.5rem;
}

.nature-btn {
    padding: 0.2rem 0.4rem;
    font-size: 0.7rem;
    background: #2a2a4e;
    border: 1px solid #444;
    color: #888;
    border-radius: 3px;
    cursor: pointer;
}

.nature-btn:hover {
    background: #3a3a5e;
    color: #fff;
}

.nature-btn.active {
    background: #4a4a6e;
    border-color: #6a6a8e;
    color: #fff;
}

/* Field descriptions (for ability/item) */
.field-description {
    font-size: 0.75rem;
    color: #888;
    font-style: italic;
    margin: 0 0 0.5rem 0;
    line-height: 1.3;
    padding-left: 65px;
}

.unknown-hint {
    font-size: 0.75rem;
    color: #666;
    font-style: italic;
    padding: 0.25rem 0;
}

/* Multi-bar damage range for unknown EVs/IVs */
.damage-range-multi {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.damage-range-row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.damage-range-row .range-label {
    width: 80px;
    font-size: 0.75rem;
    color: #888;
}

.damage-range-row .damage-min,
.damage-range-row .damage-max {
    font-size: 0.75rem;
    min-width: 70px;
}

.damage-range-row .damage-bar-container {
    flex: 1;
    margin-bottom: 0;
}

.damage-bar-best-min {
    background: #27ae60;
}

.damage-bar-best-range {
    background: #f39c12;
}

.damage-bar-worst-min {
    background: #7f8c8d;
}

.damage-bar-worst-range {
    background: #bdc3c7;
}

/* KO Information */
.ko-info {
    display: flex;
    gap: 2rem;
    margin-bottom: 0.75rem;
}

.ko-info p {
    margin: 0;
    font-size: 0.9rem;
}

.ko-label {
    color: #888;
}

.ko-value {
    font-weight: bold;
    color: #4a90d9;
}

.recoil-info, .recovery-info {
    font-size: 0.85rem;
    color: #aaa;
}

details {
    margin-top: 0.75rem;
}

details summary {
    cursor: pointer;
    color: #888;
    font-size: 0.85rem;
}

details ul {
    margin-top: 0.5rem;
    padding-left: 1.5rem;
    font-size: 0.8rem;
    color: #888;
}

footer {
    text-align: center;
    margin-top: 2rem;
    padding: 1rem;
    color: #666;
    font-size: 0.8rem;
}

/* Navigation */
nav {
    display: flex;
    justify-content: center;
    gap: 1rem;
    margin-top: 0.5rem;
}

nav a {
    color: #a0a0ff;
    text-decoration: none;
    padding: 0.25rem 0.75rem;
    border-radius: 4px;
    background: #2a2a4e;
}

nav a:hover, nav a.active {
    background: #4a4a8e;
}

/* Type Colors */
.type-normal { background: #A8A878; color: #fff; }
.type-fire { background: #F08030; color: #fff; }
.type-water { background: #6890F0; color: #fff; }
.type-electric { background: #F8D030; color: #333; }
.type-grass { background: #78C850; color: #fff; }
.type-ice { background: #98D8D8; color: #333; }
.type-fighting { background: #C03028; color: #fff; }
.type-poison { background: #A040A0; color: #fff; }
.type-ground { background: #E0C068; color: #333; }
.type-flying { background: #A890F0; color: #fff; }
.type-psychic { background: #F85888; color: #fff; }
.type-bug { background: #A8B820; color: #fff; }
.type-rock { background: #B8A038; color: #fff; }
.type-ghost { background: #705898; color: #fff; }
.type-dragon { background: #7038F8; color: #fff; }
.type-dark { background: #705848; color: #fff; }
.type-steel { background: #B8B8D0; color: #333; }
.type-fairy { background: #EE99AC; color: #333; }

/* Type Badge */
.type-badge {
    display: inline-block;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.75rem;
    font-weight: bold;
    text-transform: uppercase;
    margin: 0.125rem;
}

.type-badge.small {
    padding: 0.2rem 0.4rem;
    font-size: 0.7rem;
}

.type-badge.small .multiplier {
    font-size: 0.6rem;
    opacity: 0.9;
    margin-left: 0.25rem;
}

.type-badge.tiny {
    padding: 0.1rem 0.3rem;
    font-size: 0.65rem;
}

/* Category Icons */
.category-icon {
    display: inline-block;
    width: 24px;
    height: 24px;
    border-radius: 50%;
    text-align: center;
    line-height: 24px;
    font-size: 0.6rem;
    font-weight: bold;
}

.category-physical {
    background: linear-gradient(135deg, #C92112 0%, #F08030 100%);
    color: #fff;
}

.category-physical::before {
    content: "PHY";
}

.category-special {
    background: linear-gradient(135deg, #4F5870 0%, #6890F0 100%);
    color: #fff;
}

.category-special::before {
    content: "SPC";
}

.category-status {
    background: linear-gradient(135deg, #8C888C 0%, #A8A878 100%);
    color: #fff;
}

.category-status::before {
    content: "STS";
}

/* Moves Page Layout */
.moves-layout {
    max-width: 1000px;
    margin: 0 auto;
    padding: 0 1rem;
}

.search-section {
    margin-bottom: 1.5rem;
}

.search-container.large input {
    font-size: 1.1rem;
    padding: 0.75rem;
}

/* Pokemon Info Section */
.pokemon-info-section {
    background: #16213e;
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 1rem;
}

.pokemon-header {
    display: flex;
    align-items: center;
    gap: 1rem;
    margin-bottom: 1rem;
    padding-bottom: 1rem;
    border-bottom: 1px solid #2a2a4e;
}

.pokemon-sprite {
    width: 96px;
    height: 96px;
    background: #1a1a2e;
    border-radius: 8px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.pokemon-sprite img {
    max-width: 100%;
    max-height: 100%;
    image-rendering: pixelated;
}

.pokemon-details h2 {
    margin: 0 0 0.5rem 0;
    font-size: 1.5rem;
}

.type-badges {
    display: flex;
    gap: 0.25rem;
}

/* Stats Section */
.stats-section {
    margin-bottom: 1rem;
}

.stats-section h3 {
    font-size: 0.9rem;
    color: #a0a0ff;
    margin-bottom: 0.5rem;
}

.stats-grid {
    display: grid;
    gap: 0.25rem;
}

.stat-item {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.stat-name {
    width: 35px;
    font-size: 0.75rem;
    color: #888;
}

.stat-bar-container {
    flex: 1;
    height: 12px;
    background: #1a1a2e;
    border-radius: 6px;
    overflow: hidden;
}

.stat-bar {
    height: 100%;
    border-radius: 6px;
    transition: width 0.3s ease;
}

.stats-section .stat-value {
    width: 30px;
    text-align: right;
    font-size: 0.8rem;
    font-weight: bold;
}

.stat-total {
    margin-top: 0.5rem;
    text-align: right;
    font-size: 0.85rem;
    color: #888;
}

.stat-total span:last-child {
    font-weight: bold;
    color: #fff;
}

/* Abilities Section */
.abilities-section {
    margin-bottom: 1rem;
}

.abilities-section h3 {
    font-size: 0.9rem;
    color: #a0a0ff;
    margin-bottom: 0.5rem;
}

.ability-list {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.ability-badge {
    background: #2a2a4e;
    padding: 0.25rem 0.5rem;
    border-radius: 4px;
    font-size: 0.8rem;
}

.ability-badge.hidden-ability {
    border: 1px dashed #4a4a8e;
}

/* Tooltip styling */
.has-tooltip {
    position: relative;
    cursor: help;
}

.has-tooltip::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 100%;
    left: 0;
    background: #1a1a2e;
    border: 1px solid #3a3a6e;
    border-radius: 4px;
    padding: 0.5rem;
    font-size: 0.75rem;
    font-weight: normal;
    white-space: normal;
    width: max-content;
    max-width: 300px;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s, visibility 0.2s;
    z-index: 1000;
    pointer-events: none;
    margin-bottom: 4px;
    text-align: left;
    line-height: 1.4;
    color: #eee;
}

.has-tooltip:hover::after {
    opacity: 1;
    visibility: visible;
}

.has-tooltip[data-tooltip=""]::after {
    display: none;
}

/* Type Effectiveness Section */
.type-effectiveness-section h3 {
    font-size: 0.9rem;
    color: #a0a0ff;
    margin-bottom: 0.5rem;
}

.matchups-grid {
    display: grid;
    gap: 0.75rem;
}

.matchup-group h4 {
    font-size: 0.75rem;
    color: #888;
    margin-bottom: 0.25rem;
}

.matchup-types {
    display: flex;
    flex-wrap: wrap;
    gap: 0.25rem;
}

/* Moves Section */
.moves-section {
    background: #16213e;
    border-radius: 8px;
    padding: 1rem;
}

.moves-section h3 {
    font-size: 1rem;
    color: #a0a0ff;
    margin-bottom: 0.75rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid #2a2a4e;
}

/* Source Filters */
.source-filters {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 1rem;
    padding: 0.5rem;
    background: #1a1a2e;
    border-radius: 4px;
}

.source-filters label {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.85rem;
    cursor: pointer;
}

.source-filters .count {
    color: #888;
    font-size: 0.75rem;
}

/* Moves Table */
.moves-table-container {
    overflow-x: auto;
}

.moves-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 0.85rem;
}

.moves-table th {
    text-align: left;
    padding: 0.5rem;
    border-bottom: 1px solid #3a3a6e;
    color: #888;
    font-weight: normal;
    font-size: 0.75rem;
}

.moves-table td {
    padding: 0.5rem;
    border-bottom: 1px solid #2a2a4e;
}

.moves-table tr:hover td {
    background: #1a1a2e;
}

.source-cell {
    color: #888;
    font-size: 0.75rem;
    width: 50px;
}

.move-name {
    font-weight: 500;
}

.move-desc {
    font-size: 0.75rem;
    color: #aaa;
    max-width: 300px;
}

/* Empty State */
.empty-state {
    text-align: center;
    padding: 4rem 2rem;
    color: #888;
}

.empty-state p {
    font-size: 1.1rem;
}

/* Scrollbar styling */
::-webkit-scrollbar {
    width: 8px;
}

::-webkit-scrollbar-track {
    background: #1a1a2e;
}

::-webkit-scrollbar-thumb {
    background: #3a3a6e;
    border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
    background: #4a4a8e;
}

/* Party Page */
.party-layout {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 1rem;
}

.upload-section {
    background: #16213e;
    border-radius: 8px;
    padding: 1.5rem;
    margin-bottom: 1.5rem;
    text-align: center;
}

.upload-section.compact {
    padding: 0.75rem 1rem;
    margin-bottom: 1rem;
}

.upload-section.compact .upload-row {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
}

.upload-section h2 {
    font-size: 1.1rem;
    color: #a0a0ff;
    margin-bottom: 0.5rem;
}

.upload-section .description {
    color: #888;
    font-size: 0.9rem;
    margin-bottom: 1rem;
}

.refresh-btn {
    background: #4a90d9;
    color: #fff;
    border: none;
    border-radius: 4px;
    padding: 0.5rem 0.75rem;
    font-size: 0.85rem;
    cursor: pointer;
    transition: background 0.2s;
}

.refresh-btn:hover {
    background: #5a9fe9;
}

.file-upload-container {
    position: relative;
    display: inline-block;
}

.file-input {
    position: absolute;
    width: 100%;
    height: 100%;
    opacity: 0;
    cursor: pointer;
}

.file-label {
    display: inline-block;
    padding: 0.75rem 1.5rem;
    background: #4a90d9;
    color: #fff;
    border-radius: 4px;
    cursor: pointer;
    font-weight: 500;
    transition: background 0.2s;
}

.file-label:hover {
    background: #6ab0f9;
}

.error-message {
    color: #e74c3c;
    margin-top: 1rem;
    font-size: 0.9rem;
}

.loading-message {
    color: #f39c12;
    margin-top: 1rem;
    font-size: 0.9rem;
}

/* Party Section */
.party-section {
    background: #16213e;
    border-radius: 8px;
    padding: 1.5rem;
}

.party-section h2 {
    font-size: 1.1rem;
    color: #a0a0ff;
    margin-bottom: 1rem;
    text-align: center;
}

.party-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr));
    gap: 1rem;
}

.party-member {
    background: #1a1a2e;
    border-radius: 8px;
    padding: 1rem;
    text-align: center;
}

.party-sprite {
    width: 96px;
    height: 96px;
    margin: 0 auto 0.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
}

.party-sprite img {
    max-width: 100%;
    max-height: 100%;
    image-rendering: pixelated;
}

.party-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.party-info .pokemon-name {
    font-weight: bold;
    font-size: 1rem;
}

.party-info .pokemon-nickname {
    color: #888;
    font-size: 0.85rem;
    font-style: italic;
}

.party-info .pokemon-species {
    color: #888;
    font-size: 0.85rem;
    margin-left: 0.25rem;
}

.party-info .pokemon-types {
    display: flex;
    justify-content: center;
    gap: 0.25rem;
    margin-top: 0.25rem;
}

.party-info .pokemon-types .type-badge {
    padding: 0.15rem 0.4rem;
    font-size: 0.7rem;
}

.party-info .pokemon-level {
    color: #4a90d9;
    font-size: 0.85rem;
}

.party-info .pokemon-ability {
    color: #BB86FC;
    font-size: 0.8rem;
}

.party-info .pokemon-nature {
    color: #98D8C8;
    font-size: 0.8rem;
}

.party-info .pokemon-item {
    color: #F7DC6F;
    font-size: 0.8rem;
}

.pokemon-details-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 0.25rem 0.75rem;
    margin-top: 0.25rem;
}

/* Stats Display */
.party-stats {
    margin-top: 0.5rem;
    padding-top: 0.5rem;
    border-top: 1px solid #2a2a4e;
}

.hp-bar {
    position: relative;
    height: 16px;
    background: #333;
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 0.4rem;
}

.hp-fill {
    height: 100%;
    background: linear-gradient(90deg, #4CAF50, #8BC34A);
    transition: width 0.3s ease;
}

.hp-text {
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 0.7rem;
    font-weight: bold;
    color: #fff;
    text-shadow: 1px 1px 1px #000;
}

.party-stats .stats-grid {
    display: grid;
    grid-template-columns: repeat(5, 1fr);
    gap: 0.2rem;
}

.party-stats .stat {
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0.2rem;
    background: #2a2a4e;
    border-radius: 3px;
    font-size: 0.65rem;
}

.party-stats .stat-label {
    color: #888;
    font-weight: bold;
}

.party-stats .stat-value {
    color: #fff;
    text-align: center;
}

.party-stats .stat-plus .stat-value {
    color: #F08080;
}

.party-stats .stat-plus .stat-label {
    color: #F08080;
}

.party-stats .stat-minus .stat-value {
    color: #87CEEB;
}

.party-stats .stat-minus .stat-label {
    color: #87CEEB;
}

/* Party Moves */
.party-moves {
    margin-top: 0.5rem;
    padding-top: 0.5rem;
    border-top: 1px solid #2a2a4e;
    display: flex;
    flex-direction: column;
    gap: 0.2rem;
}

.party-moves .move-chip {
    font-size: 0.7rem;
    color: #fff;
    padding: 0.25rem 0.5rem;
    border-radius: 3px;
    cursor: help;
}

/* Box Pokemon Section */
.box-section {
    margin-top: 2rem;
}

.box-section h2 {
    color: #4a90d9;
    margin-bottom: 1rem;
    font-size: 1.25rem;
}

.box-container {
    background: #1a1a2e;
    border-radius: 8px;
    padding: 1rem;
    margin-bottom: 1rem;
}

.box-header {
    color: #8a8aa3;
    font-size: 0.9rem;
    margin-bottom: 0.75rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid #2a2a4e;
}

.box-grid {
    display: grid;
    grid-template-columns: repeat(6, 1fr);
    gap: 0.5rem;
}

@media (max-width: 900px) {
    .box-grid {
        grid-template-columns: repeat(4, 1fr);
    }
}

@media (max-width: 600px) {
    .box-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

.box-pokemon {
    background: #16213e;
    border-radius: 6px;
    padding: 0.5rem;
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
}

.box-sprite {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.box-sprite img {
    max-width: 100%;
    max-height: 100%;
    image-rendering: pixelated;
}

.box-info {
    margin-top: 0.25rem;
    display: flex;
    flex-direction: column;
    gap: 0.1rem;
}

.box-pokemon-name {
    font-size: 0.7rem;
    color: #fff;
    font-weight: 600;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 80px;
}

.box-pokemon-level {
    font-size: 0.6rem;
    color: #8a8aa3;
}

.box-moves {
    margin-top: 0.25rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.15rem;
    justify-content: center;
}

.box-move-chip {
    font-size: 0.5rem;
    padding: 0.1rem 0.25rem;
    border-radius: 2px;
    color: #fff;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 60px;
}

/* Tooltips */
.tooltip {
    position: relative;
    cursor: help;
}

.tooltip .tooltip-text {
    visibility: hidden;
    position: absolute;
    z-index: 100;
    bottom: 125%;
    left: 50%;
    transform: translateX(-50%);
    background: #16213e;
    color: #fff;
    padding: 0.5rem;
    border-radius: 6px;
    font-size: 0.75rem;
    white-space: nowrap;
    box-shadow: 0 2px 10px rgba(0,0,0,0.3);
    border: 1px solid #4a90d9;
    text-align: left;
    min-width: 150px;
    max-width: 250px;
    white-space: normal;
}

.tooltip .tooltip-text::after {
    content: "";
    position: absolute;
    top: 100%;
    left: 50%;
    margin-left: -5px;
    border-width: 5px;
    border-style: solid;
    border-color: #4a90d9 transparent transparent transparent;
}

.tooltip:hover .tooltip-text {
    visibility: visible;
}

/* Type colors for moves */
.type-normal { background: #A8A878; }
.type-fire { background: #F08030; }
.type-water { background: #6890F0; }
.type-electric { background: #F8D030; color: #333; }
.type-grass { background: #78C850; }
.type-ice { background: #98D8D8; color: #333; }
.type-fighting { background: #C03028; }
.type-poison { background: #A040A0; }
.type-ground { background: #E0C068; color: #333; }
.type-flying { background: #A890F0; }
.type-psychic { background: #F85888; }
.type-bug { background: #A8B820; }
.type-rock { background: #B8A038; }
.type-ghost { background: #705898; }
.type-dragon { background: #7038F8; }
.type-dark { background: #705848; }
.type-steel { background: #B8B8D0; color: #333; }
.type-fairy { background: #EE99AC; color: #333; }

/* Catch Calculator Page */
.catch-layout {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 1.5rem;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 1rem;
}

@media (max-width: 900px) {
    .catch-layout {
        grid-template-columns: 1fr;
    }
}

.catch-input-section,
.catch-results-section {
    background: #16213e;
    border-radius: 8px;
    padding: 1.5rem;
}

.catch-input-section h2,
.catch-results-section h2 {
    margin-top: 0;
    margin-bottom: 1rem;
    font-size: 1.2rem;
    color: #4a90d9;
}

.selected-pokemon-info {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1rem;
    background: #1a1a2e;
    border-radius: 8px;
    margin: 1rem 0;
}

.selected-pokemon-info .pokemon-sprite img {
    width: 80px;
    height: 80px;
    image-rendering: pixelated;
}

.selected-pokemon-info .pokemon-details {
    display: flex;
    flex-direction: column;
    gap: 0.5rem;
}

.selected-pokemon-info .pokemon-name {
    font-size: 1.2rem;
    font-weight: bold;
}

.catch-rate-display {
    color: #888;
}

.catch-rate-display strong {
    color: #4a90d9;
    font-size: 1.1rem;
}

/* HP Slider */
.hp-slider-container {
    margin: 1rem 0;
}

.hp-bar-visual {
    height: 20px;
    background: #333;
    border-radius: 4px;
    overflow: hidden;
    margin-bottom: 0.5rem;
}

.hp-bar-visual .hp-fill {
    height: 100%;
    transition: width 0.1s, background 0.2s;
}

.hp-bar-visual .hp-fill.hp-green { background: linear-gradient(180deg, #5cd85c 0%, #3cb43c 100%); }
.hp-bar-visual .hp-fill.hp-yellow { background: linear-gradient(180deg, #f8d030 0%, #d8a000 100%); }
.hp-bar-visual .hp-fill.hp-red { background: linear-gradient(180deg, #f85858 0%, #d83030 100%); }

.hp-slider {
    width: 100%;
    -webkit-appearance: none;
    appearance: none;
    height: 8px;
    background: #333;
    border-radius: 4px;
    outline: none;
}

.hp-slider::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 20px;
    height: 20px;
    background: #4a90d9;
    border-radius: 50%;
    cursor: pointer;
}

.hp-slider::-moz-range-thumb {
    width: 20px;
    height: 20px;
    background: #4a90d9;
    border-radius: 50%;
    cursor: pointer;
    border: none;
}

.hp-labels {
    display: flex;
    justify-content: space-between;
    margin-top: 0.5rem;
}

.hp-percent {
    font-size: 1.2rem;
    font-weight: bold;
}

.hp-zone {
    font-size: 0.9rem;
    padding: 0.2rem 0.5rem;
    border-radius: 4px;
}

.hp-zone.hp-green { background: rgba(60, 180, 60, 0.3); color: #5cd85c; }
.hp-zone.hp-yellow { background: rgba(248, 208, 48, 0.3); color: #f8d030; }
.hp-zone.hp-red { background: rgba(248, 88, 88, 0.3); color: #f85858; }

/* Status Options */
.status-options {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
}

.status-option {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.5rem;
    background: #1a1a2e;
    border-radius: 4px;
    cursor: pointer;
    transition: background 0.2s;
}

.status-option:hover {
    background: #2a2a4e;
}

.status-option input[type="radio"] {
    accent-color: #4a90d9;
}

/* Form Sections */
.form-section {
    margin: 1.5rem 0;
}

.form-section h3 {
    font-size: 0.95rem;
    color: #888;
    margin-bottom: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
}

.form-hint {
    color: #666;
    font-size: 0.85rem;
}

/* Results Table */
.results-table-container {
    overflow-x: auto;
}

.catch-results-table {
    width: 100%;
    border-collapse: collapse;
}

.catch-results-table th,
.catch-results-table td {
    padding: 0.75rem;
    text-align: left;
    border-bottom: 1px solid #333;
}

.catch-results-table th {
    color: #888;
    font-weight: normal;
    font-size: 0.85rem;
    text-transform: uppercase;
}

.catch-results-table tr:hover {
    background: rgba(74, 144, 217, 0.1);
}

.catch-results-table tr.guaranteed {
    background: rgba(60, 180, 60, 0.15);
}

.ball-name {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-weight: 500;
}

.ball-mult {
    color: #888;
}

.catch-percent,
.cumulative-percent {
    font-weight: bold;
}

.catch-guaranteed { color: #5cd85c; }
.catch-high { color: #8cd85c; }
.catch-medium { color: #f8d030; }
.catch-low { color: #f88830; }
.catch-very-low { color: #f85858; }

/* Expected Throws */
.expected-throws {
    margin-top: 1.5rem;
    padding-top: 1.5rem;
    border-top: 1px solid #333;
}

.expected-throws h3 {
    font-size: 0.95rem;
    color: #888;
    margin-bottom: 1rem;
}

.expected-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.75rem;
}

.expected-item {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem;
    background: #1a1a2e;
    border-radius: 4px;
}

.expected-item .ball-name {
    color: #888;
}

.expected-item .expected-value {
    font-weight: bold;
    color: #4a90d9;
}

/* Swap Button */
.swap-btn {
    width: 100%;
    padding: 0.5rem 1rem;
    margin-bottom: 1rem;
    border: 2px solid #4a90d9;
    border-radius: 4px;
    background: transparent;
    color: #4a90d9;
    font-size: 0.9rem;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.2s;
}

.swap-btn:hover {
    background: #4a90d9;
    color: #fff;
}

/* Move Selector Dropdown */
.move-selector {
    margin-bottom: 1rem;
}

.move-dropdown {
    width: 100%;
    padding: 0.5rem;
    border: 1px solid #3a3a6e;
    border-radius: 4px;
    background: #1a1a2e;
    color: #fff;
    font-size: 0.85rem;
    cursor: pointer;
}

.move-dropdown option {
    background: #1a1a2e;
    color: #fff;
    padding: 0.25rem;
}

.move-dropdown optgroup {
    background: #2a2a4e;
    color: #a0a0ff;
    font-weight: bold;
    padding-top: 0.5rem;
}

/* Move Placeholder */
.move-placeholder {
    padding: 1rem;
    text-align: center;
    background: #1a1a2e;
    border-radius: 4px;
    color: #666;
    font-size: 0.9rem;
    margin-bottom: 1rem;
}

/* Move Description */
.move-description {
    font-size: 0.8rem;
    color: #888;
    font-style: italic;
    margin: 0.5rem 0;
    line-height: 1.4;
}

/* Items Page */
.items-layout {
    max-width: 900px;
    margin: 0 auto;
    padding: 0 1rem;
}

.search-hint, .search-count {
    text-align: center;
    color: #888;
    font-size: 0.9rem;
    margin-top: 0.5rem;
}

.items-results {
    margin-top: 1.5rem;
}

.items-grid {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.item-card {
    background: #16213e;
    border-radius: 8px;
    padding: 1rem;
}

.item-name {
    font-weight: bold;
    font-size: 1rem;
    color: #4a90d9;
    margin-bottom: 0.5rem;
}

.item-desc {
    font-size: 0.9rem;
    color: #ccc;
    line-height: 1.4;
}

/* Calculator Pokemon Sprites */
.pokemon-search-row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.pokemon-sprite-small {
    width: 64px;
    height: 64px;
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.pokemon-sprite-small img {
    max-width: 100%;
    max-height: 100%;
    image-rendering: pixelated;
}

.pokemon-search-row .search-container {
    flex-grow: 1;
}

/* Party Import Dropdown */
.party-import {
    margin-bottom: 0.5rem;
}

.party-import select {
    width: 100%;
    padding: 0.5rem;
    border: 1px dashed #4a90d9;
    border-radius: 4px;
    background: #1a1a2e;
    color: #4a90d9;
    font-size: 0.85rem;
    cursor: pointer;
}

.party-import select:hover {
    background: #2a2a4e;
}

.party-import select option {
    color: #fff;
    border: none;
}

/* IVs/EVs Display */
.ivs-evs-row {
    display: flex;
    gap: 0.5rem;
    font-size: 0.75rem;
    margin-top: 0.25rem;
    color: #aaa;
}

.ivs-label,
.evs-label {
    font-weight: bold;
    min-width: 2.5rem;
}

.ivs-values,
.evs-values {
    font-family: monospace;
}

/* Discard button */
.discard-btn {
    padding: 0.5rem 1rem;
    background: #8b0000;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

.discard-btn:hover {
    background: #a00000;
}

/* Clear button for calculator */
.clear-btn {
    padding: 0.3rem 0.8rem;
    background: #555;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.85rem;
    margin-left: 1rem;
}

.clear-btn:hover {
    background: #777;
}

/* ===== Matchup Page ===== */

.matchup-layout {
    max-width: 1400px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

/* Enemy Selector */
.enemy-selector {
    background: #16213e;
    border-radius: 8px;
    padding: 1rem;
}

.enemy-selector h2 {
    font-size: 1rem;
    margin-bottom: 0.75rem;
    color: #a0a0ff;
    border-bottom: 1px solid #2a2a4e;
    padding-bottom: 0.5rem;
}

.enemy-config {
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.search-row {
    display: flex;
    gap: 1rem;
    align-items: flex-start;
}

.search-row .search-container {
    flex: 1;
    margin-bottom: 0;
}

.level-input {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.level-input input {
    width: 70px;
    padding: 0.5rem;
    border: 1px solid #3a3a6e;
    border-radius: 4px;
    background: #1a1a2e;
    color: #fff;
    text-align: center;
}

.selected-enemy {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 0.75rem;
    background: #1a1a2e;
    border-radius: 6px;
}

.enemy-sprite img {
    width: 64px;
    height: 64px;
    image-rendering: pixelated;
}

.enemy-info {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.enemy-name {
    font-weight: bold;
    font-size: 1.1rem;
}

.enemy-types {
    display: flex;
    gap: 0.25rem;
}

.gen-toggle {
    display: flex;
    align-items: center;
    gap: 1rem;
}

.gen-toggle label:first-child {
    color: #a0a0ff;
}

.radio-label {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    cursor: pointer;
}

.stats-config {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    align-items: center;
}

.preset-buttons {
    display: flex;
    gap: 0.5rem;
}

.preset-buttons button {
    padding: 0.4rem 0.8rem;
    background: #2a2a4e;
    border: 1px solid #3a3a6e;
    border-radius: 4px;
    color: #fff;
    cursor: pointer;
}

.preset-buttons button:hover {
    background: #3a3a6e;
}

.preset-buttons button.active {
    background: #4a90d9;
    border-color: #4a90d9;
}

.stat-option-group {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.stat-option-label {
    color: #a0a0ff;
    font-weight: 500;
    min-width: 35px;
}

.stat-options {
    display: flex;
    gap: 0.25rem;
}

.stat-options button {
    padding: 0.3rem 0.6rem;
    background: #2a2a4e;
    border: 1px solid #3a3a6e;
    border-radius: 4px;
    color: #fff;
    cursor: pointer;
    font-size: 0.85rem;
}

.stat-options button:hover {
    background: #3a3a6e;
}

.stat-options button.active {
    background: #4a90d9;
    border-color: #4a90d9;
}

.unknown-toggles {
    display: flex;
    gap: 1rem;
}

.checkbox-label {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    cursor: pointer;
}

/* No Party Warning */
.no-party-warning {
    background: #16213e;
    border-radius: 8px;
    padding: 2rem;
    text-align: center;
    color: #888;
}

.no-party-warning a {
    color: #4a90d9;
}

/* Matchups Section */
.matchups-section {
    background: #16213e;
    border-radius: 8px;
    padding: 1rem;
}

.matchups-section h2 {
    font-size: 1rem;
    margin-bottom: 0.75rem;
    color: #a0a0ff;
    border-bottom: 1px solid #2a2a4e;
    padding-bottom: 0.5rem;
}

.matchups-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 1rem;
}

.matchup-card {
    background: #1a1a2e;
    border-radius: 8px;
    padding: 1rem;
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    transition: transform 0.15s, box-shadow 0.15s, border-color 0.15s;
    border: 2px solid transparent;
}

.matchup-card.clickable {
    cursor: pointer;
}

.matchup-card.clickable:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    border-color: #4a4a8e;
}

.matchup-card.clickable:active {
    transform: translateY(0);
}

.matchup-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid #2a2a4e;
}

.matchup-header .party-sprite img {
    width: 48px;
    height: 48px;
    image-rendering: pixelated;
}

.matchup-header .party-info {
    display: flex;
    flex-direction: column;
}

.matchup-header .party-name {
    font-weight: bold;
}

.matchup-header .party-species {
    color: #888;
    font-size: 0.85rem;
}

.matchup-header .party-details {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-top: 0.25rem;
}

.matchup-header .party-level {
    color: #4a90d9;
    font-size: 0.85rem;
}

.matchup-header .party-types {
    display: flex;
    gap: 0.25rem;
}

.moves-section h4,
.threats-section h4 {
    font-size: 0.85rem;
    color: #a0a0ff;
    margin-bottom: 0.5rem;
}

.moves-table {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.move-row {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.35rem 0.5rem;
    border-radius: 4px;
    font-size: 0.85rem;
}

.move-row.threat {
    background: rgba(255, 100, 100, 0.1);
}

.threat-rank {
    color: #ff6b6b;
    font-weight: bold;
    width: 1.5rem;
}

.move-name {
    flex: 1;
}

.move-damage {
    font-family: monospace;
    color: #98D8C8;
}

.no-threats {
    color: #666;
    font-style: italic;
    padding: 0.5rem;
}

/* Moveset Section */
.moveset-section {
    background: #16213e;
    border-radius: 8px;
    padding: 1rem;
}

.moveset-section h2 {
    font-size: 1rem;
    margin-bottom: 0.25rem;
    color: #a0a0ff;
}

.moveset-note {
    font-size: 0.8rem;
    color: #888;
    margin-bottom: 0.75rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid #2a2a4e;
}

.moveset-table {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}

.moveset-header {
    display: grid;
    grid-template-columns: 1fr 80px 50px 50px 50px 2fr;
    gap: 0.5rem;
    padding: 0.5rem;
    background: #2a2a4e;
    border-radius: 4px;
    font-weight: bold;
    font-size: 0.8rem;
    color: #a0a0ff;
}

.moveset-row {
    display: grid;
    grid-template-columns: 1fr 80px 50px 50px 50px 2fr;
    gap: 0.5rem;
    padding: 0.4rem 0.5rem;
    border-radius: 4px;
    font-size: 0.85rem;
    background: #1a1a2e;
}

.moveset-row:nth-child(even) {
    background: rgba(42, 42, 78, 0.3);
}

.moveset-row .move-desc {
    color: #888;
    font-size: 0.8rem;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

/* Type background colors (lighter versions for rows) */
.type-bg-normal { background: rgba(168, 168, 120, 0.2); }
.type-bg-fire { background: rgba(240, 128, 48, 0.2); }
.type-bg-water { background: rgba(104, 144, 240, 0.2); }
.type-bg-electric { background: rgba(248, 208, 48, 0.2); }
.type-bg-grass { background: rgba(120, 200, 80, 0.2); }
.type-bg-ice { background: rgba(152, 216, 216, 0.2); }
.type-bg-fighting { background: rgba(192, 48, 40, 0.2); }
.type-bg-poison { background: rgba(160, 64, 160, 0.2); }
.type-bg-ground { background: rgba(224, 192, 104, 0.2); }
.type-bg-flying { background: rgba(168, 144, 240, 0.2); }
.type-bg-psychic { background: rgba(248, 88, 136, 0.2); }
.type-bg-bug { background: rgba(168, 184, 32, 0.2); }
.type-bg-rock { background: rgba(184, 160, 56, 0.2); }
.type-bg-ghost { background: rgba(112, 88, 152, 0.2); }
.type-bg-dragon { background: rgba(112, 56, 248, 0.2); }
.type-bg-dark { background: rgba(112, 88, 72, 0.2); }
.type-bg-steel { background: rgba(184, 184, 208, 0.2); }
.type-bg-fairy { background: rgba(238, 153, 172, 0.2); }

/* Calculating overlay */
.calculating-overlay {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: rgba(22, 33, 62, 0.95);
    padding: 2rem;
    border-radius: 8px;
    z-index: 1000;
}

/* Responsive */
@media (max-width: 900px) {
    .search-row {
        flex-direction: column;
    }

    .stats-config {
        flex-direction: column;
        align-items: flex-start;
    }

    .matchups-grid {
        grid-template-columns: 1fr;
    }

    .moveset-header,
    .moveset-row {
        grid-template-columns: 1fr 60px 40px 40px 40px;
    }

    .moveset-header span:last-child,
    .moveset-row .move-desc {
        display: none;
    }
}
